DEBUG                                                                                                         PAGE 1

                       1    $MOD51
                       2    $DEBUG
                       3    
                =1     4    $include (lift.inc)
                =1     5    ; adresy I/O portov, ktore pridu na port P2 89C52-ky
  0080          =1     6    i8255INA        equ     080h
  0081          =1     7    i8255INB        equ     081h
  0082          =1     8    i8255INC        equ     082h
  0083          =1     9    i8255INCW       equ     083h
  00C0          =1    10    i8255OUTA       equ     0c0h
  00C1          =1    11    i8255OUTB       equ     0c1h
  00C2          =1    12    i8255OUTC       equ     0c2h
  00C3          =1    13    i8255OUTCW      equ     0c3h
                =1    14    
  0028          =1    15    INPORTA         data    28h         ; nutne kvoli emulatoru!!!
  0021          =1    16    INPORTB         data    21h
  0022          =1    17    INPORTC         data    22h
  0023          =1    18    OUTPORTA        data    23h
  0024          =1    19    OUTPORTB        data    24h
  0025          =1    20    OUTPORTC        data    25h
  0026          =1    21    INPORTBold      data    26h
  0027          =1    22    CTRLREG         data    27h
                =1    23    
  0030          =1    24    POSITION        data    30h
  0031          =1    25    LOWEST          data    31h
  0032          =1    26    HIGHEST         data    32h
  0033          =1    27    STOPTIMER       data    33h
  0034          =1    28    OUTPORTBold     data    34h
                =1    29    
  0040          =1    30    STOPNOT         bit     INPORTA.0
  0041          =1    31    PKI1            bit     INPORTA.1
  0042          =1    32    PKI2            bit     INPORTA.2
  0043          =1    33    PKI3            bit     INPORTA.3
  0044          =1    34    PKI4            bit     INPORTA.4
  0045          =1    35    DOORCLSD        bit     INPORTA.5 
                =1    36    
  0009          =1    37    MB1             bit     INPORTB.1       ; clonky maju invertovanu logiku
  000A          =1    38    MB2             bit     INPORTB.2
  000B          =1    39    SKRH            bit     INPORTB.3
  000C          =1    40    SKRD            bit     INPORTB.4
  000D          =1    41    DP              bit     INPORTB.5
  000E          =1    42    DPZK            bit     INPORTB.6
  000F          =1    43    DPK             bit     INPORTB.7
                =1    44    
  0031          =1    45    MB1old          bit     INPORTBold.1
  0032          =1    46    MB2old          bit     INPORTBold.2
  0033          =1    47    SKRHold         bit     INPORTBold.3
  0034          =1    48    SKRDold         bit     INPORTBold.4
                =1    49    
  0010          =1    50    PI1             bit     INPORTC.0
  0011          =1    51    PI2D            bit     INPORTC.1
  0012          =1    52    PI2U            bit     INPORTC.2
  0013          =1    53    PI3D            bit     INPORTC.3
  0014          =1    54    PI3U            bit     INPORTC.4
  0015          =1    55    PI4             bit     INPORTC.5
                =1    56    
  0018          =1    57    KS              bit     OUTPORTA.0
  0019          =1    58    PKO1            bit     OUTPORTA.1
DEBUG                                                                                                         PAGE 2

  001A          =1    59    PKO2            bit     OUTPORTA.2
  001B          =1    60    PKO3            bit     OUTPORTA.3
  001C          =1    61    PKO4            bit     OUTPORTA.4
                =1    62    
  0020          =1    63    UP              bit     OUTPORTB.0
  0021          =1    64    DOWN            bit     OUTPORTB.1
  0022          =1    65    FAST            bit     OUTPORTB.2
  0023          =1    66    SLOW            bit     OUTPORTB.3
  0024          =1    67    FLED1           bit     OUTPORTB.4
  0025          =1    68    FLED2           bit     OUTPORTB.5
  0026          =1    69    FLED3           bit     OUTPORTB.6
  0027          =1    70    FLED4           bit     OUTPORTB.7
                =1    71    
  0028          =1    72    PO1             bit     OUTPORTC.0
  0029          =1    73    PO2D            bit     OUTPORTC.1
  002A          =1    74    PO2U            bit     OUTPORTC.2
  002B          =1    75    PO3D            bit     OUTPORTC.3
  002C          =1    76    PO3U            bit     OUTPORTC.4
  002D          =1    77    PO4             bit     OUTPORTC.5
  002E          =1    78    LEDD            bit     OUTPORTC.6
  002F          =1    79    LEDU            bit     OUTPORTC.7
                =1    80    
  0038          =1    81    CANGO           bit     CTRLREG.0
  0039          =1    82    DOORCLSDold     bit     CTRLREG.1
  003A          =1    83    UPold           bit     CTRLREG.2
  003B          =1    84    DOWNold         bit     CTRLREG.3
  003C          =1    85    FASTold         bit     CTRLREG.4
  003D          =1    86    SLOWold         bit     CTRLREG.5
                =1    87    
  00B6          =1    88    WRNOT           bit     0b6h        ; p3.6
  00B7          =1    89    RDNOT           bit     0b7h        ; p3.7
                =1    90    
                =1    91    ; bitove masky
                =1    92    ; 8255OUT 
                =1    93    ; port A
  0001          =1    94    bmKS              equ    00000001b
  0002          =1    95    bmPKO1            equ    00000010b
  0004          =1    96    bmPKO2            equ    00000100b
  0008          =1    97    bmPKO3            equ    00001000b
  0010          =1    98    bmPKO4            equ    00010000b
                =1    99    
                =1   100    ; port B
  0001          =1   101    bmUP              equ    00000001b
  0002          =1   102    bmDOWN            equ    00000010b
  0004          =1   103    bmFAST            equ    00000100b
  0008          =1   104    bmSLOW            equ    00001000b
  0010          =1   105    bmFLED1           equ    00010000b
  0020          =1   106    bmFLED2           equ    00100000b
  0040          =1   107    bmFLED3           equ    01000000b
  0080          =1   108    bmFLED4           equ    10000000b
                =1   109    
                =1   110    ; port C
  0001          =1   111    bmPO1             equ    00000001b
  0002          =1   112    bmPO2D            equ    00000010b
  0004          =1   113    bmPO2U            equ    00000100b
  0008          =1   114    bmPO3D            equ    00001000b
  0010          =1   115    bmPO3U            equ    00010000b
  0020          =1   116    bmPO4             equ    00100000b
DEBUG                                                                                                         PAGE 3

  0040          =1   117    bmLEDD            equ    01000000b
  0080          =1   118    bmLEDU            equ    10000000b
                =1   119    
                =1   120    ; 8255IN
                =1   121    ; port A
  0001          =1   122    bmSTOP            equ    00000001b
  0002          =1   123    bmPKI1            equ    00000010b
  0004          =1   124    bmPKI2            equ    00000100b
  0008          =1   125    bmPKI3            equ    00001000b
  0010          =1   126    bmPKI4            equ    00010000b
  0020          =1   127    bmDOORCLSD        equ    00100000b
                =1   128    
                =1   129    ; port B
  0002          =1   130    bmMB1I            equ    00000010b
  0004          =1   131    bmMB2I            equ    00000100b
  0008          =1   132    bmSKRHI           equ    00001000b
  0010          =1   133    bmSKRHD           equ    00010000b
  0020          =1   134    bmDPI             equ    00100000b
  0040          =1   135    bmDPZKI           equ    01000000b
  0080          =1   136    bmDPKI            equ    10000000b
                =1   137    
                =1   138    ; port C
  0001          =1   139    bmPI1             equ    00000001b
  0002          =1   140    bmPI2D            equ    00000010b
  0004          =1   141    bmPI2U            equ    00000100b
  0008          =1   142    bmPI3D            equ    00001000b
  0010          =1   143    bmPI3U            equ    00010000b
  0020          =1   144    bmPI4             equ    00100000b
                =1   145    
  0036               146    FLOORREQ        data    36h
                     147    
                     148    ; hodiny oscilatora v emulatore treba dat na ext a nastavit 11.0592MHz
  00FA               149    TIMERCONST      equ     250     ; udaj pre nastavenie casovaca pre potreby seriovej komunika
                                                                               cie
                     150                                    ; hodnota 250 znamena prenosovu rychlost 4800 baud pri oscil
                                                                               atore 11.0592MHz
                     151                                    ; nastavenie terminalu je 4800 8-N-1, no flow control
                     152    ;osetrenie vektorov preruseni
0000                 153            org     0000h           ; adresa odkial startuje program po resete
0000 020033          154            ljmp    START           ; skok na zaciatok kodu programu
                     155                  
0033                 156            org     0033h           ; od tejto adresy sa zacina kod programu
0033                 157    START:
0033                 158    RESET:  
                     159            ; riadiace signaly do pasivnej urovne
0033 D2B6            160            setb    WRNOT
0035 D2B7            161            setb    RDNOT
0037 753300          162            mov     STOPTIMER, #0
003A 758140          163            mov     SP, #STACK
                     164    
                     165            ; pockame si na inicializaciu obvodov 8255  
003D 7900            166            mov     R1, #0 
003F 7A01            167            mov     R2, #01h             ;Povodne #0ffh <<EMULATOR>>
0041 D9FE            168            djnz    R1, $
0043 DAFC            169            djnz    R2, $-2
                     170            
                     171            ; teraz ich mozeme nastavit
0045 75809B          172            mov     p0, #10011011b      ; nastavenie i8255IN - vsetky porty dnu
DEBUG                                                                                                         PAGE 4

0048 75A083          173            mov     p2, #i8255INCW
004B C2B6            174            clr     WRNOT
004D 00              175            nop
004E 00              176            nop
004F 00              177            nop
0050 00              178            nop
0051 D2B6            179            setb    WRNOT
0053 758080          180            mov     p0, #10000000b      ; nastavenie i8255OUT - vsetky porty von
0056 75A0C3          181            mov     p2, #i8255OUTCW
0059 C2B6            182            clr     WRNOT
005B 00              183            nop
005C 00              184            nop
005D 00              185            nop
005E 00              186            nop
005F D2B6            187            setb    WRNOT
                     188    
                     189            ; pociatocna inicializacia - vynuluj vstupne registre a rozsviet vsetky diody 
0061 752800          190            mov     INPORTA, #0
0064 75211E          191            mov     INPORTB, #01eh      ; vsetky clonky pasivne
0067 752200          192            mov     INPORTC, #0
006A 75231E          193            mov     OUTPORTA, #(bmPKO1 or bmPKO2 or bmPKO3 or bmPKO4)
006D 7524F0          194            mov     OUTPORTB, #(bmFLED1 or bmFLED2 or bmFLED3 or bmFLED4)
0070 7525FF          195            mov     OUTPORTC, #(bmPO1 or bmPO2D or bmPO2U or bmPO3D or bmPO3U or bmPO4 or bmLEDD
                                                                                or bmLEDU)
0073 D218            196            setb    KS
0075 12016F          197            call    WRITEPORTS          ; zapis novu informaciu
                     198    ;;;;;;;;
                     199    
0078 752300          200            mov     OUTPORTA, #0
007B 752400          201            mov     OUTPORTB, #0
007E 752500          202            mov     OUTPORTC, #0
0081 12016F          203            call    WRITEPORTS          ; zapis novu informaciu
                     204            
0084 12012B          205            call    WAITFORTIMER
                     206            
0087 752800          207            mov     INPORTA, #0
008A 752100          208            mov     INPORTB, #0         
008D 752200          209            mov     INPORTC, #0
0090 120132          210            call    READPORTS           ; prvotne nacitanie udajov
                     211    
0093                 212    CALIB:
                     213            ;kalibracia vytahu podla dolnej porovnavacej clonky
0093 120132          214            lcall   READPORTS                   ; precitaj, co je na portoch
0096 300C0F          215            jnb     SKRD, CALIBEND              ; ak sme na dolnej porovnavacej clonke, tak koni
                                                                               ec
0099 D221            216            setb    DOWN                        ; inak pod dole
009B D222            217            setb    FAST                        ; a rychlo
009D 12016F          218            lcall   WRITEPORTS                  ; zapis informaciu 
00A0                 219    CALIBLOOP:
00A0 120132          220            lcall   READPORTS                   ; 
00A3 300C02          221            jnb     SKRD, CALIBEND              ; ak sme dole, konci
                     222            ;jnb     MB2, CALIBEND               ; ak sme na poschodi, konci
00A6 80F8            223            jmp     CALIBLOOP
00A8                 224    CALIBEND:
00A8 753600          225            mov     FLOORREQ, #0                                
00AB C222            226            clr     FAST                        ; stojime
00AD C221            227            clr     DOWN                        ;
00AF D224            228            setb    FLED1
DEBUG                                                                                                         PAGE 5

00B1 12016F          229            lcall   WRITEPORTS                  ; zapis informaciu
00B4                 230    MAIN:
                     231    
                     232    ;            |  7    |  6    |  5    |  4    |  3    |  2    |  1    |  0    |
                     233    ; ****************************************************************************
                     234    ; INPORTA >  |       |       |DOORCLS| PKI4  | PKI3  | PKI2  | PKI1  |STOPNOT|
                     235    ; ----------------------------------------------------------------------------
                     236    ; INPORTB >  | DPK   | DPZK  | DP    | SKRD  | SKRH  | MB2   | MB1   |       |
                     237    ; ----------------------------------------------------------------------------
                     238    ; INPORTC >  |       |       | PI4   | PI3D  | PI3U  | PI2D  | PI2U  | PI1   |
                     239    ; ****************************************************************************
                     240    ; OUTPORTA > |       |       |       | PKO4  | PKO3  | PKO2  | PKO1  | KS    |
                     241    ; ----------------------------------------------------------------------------
                     242    ; OUTPORTB > | FLED4 | FLED3 | FLED2 | FLED1 | SLOW  | FAST  | DOWN  | UP    |
                     243    ; ----------------------------------------------------------------------------
                     244    ; OUTPORTC > | LEDU  | LEDD  | PO4   | PO3D  | PO3U  | PO2D  | PO2U  | PO1   |
                     245    ; ****************************************************************************
                     246    ; POSITION
                     247    ; ****************************************************************************
                     248    
                     249    
00B4                 250    FLOOR1:
00B4 12012B          251            lcall   WAITFORTIMER
00B7 120132          252    F1S:    lcall   READPORTS
00BA E528            253            mov     A, INPORTA
00BC 541C            254            anl     A, #00011100b
00BE C219            255            clr     PKO1
00C0 12016F          256            lcall   WRITEPORTS
00C3 60F2            257            jz      F1S  
00C5 D220            258            setb    UP                        ; inak pod dole
00C7 D222            259            setb    FAST                        ; a rychlo
00C9 12016F          260            lcall   WRITEPORTS                  ; zapis informaciu
00CC 0200CF          261            jmp     UP1
00CF                 262    UP1:
00CF 120132          263            lcall   READPORTS
00D2 200AFA          264            jb      MB2, UP1
00D5 120132          265            lcall   READPORTS
00D8 300AFA          266            jnb     MB2, $-3                
00DB D22E            267            setb    LEDD
00DD 12016F          268            lcall   WRITEPORTS
00E0 0200E3          269            jmp     UP1_MB2
00E3                 270    UP1_MB2:
00E3 120132          271            lcall   READPORTS
00E6 200AFA          272            jb      MB2, UP1_MB2              
00E9 D22F            273            setb    LEDU
00EB 12016F          274            lcall   WRITEPORTS
00EE 0200F1          275            jmp     UP1_MB1        
00F1                 276    UP1_MB1:
00F1 120132          277            lcall   READPORTS
00F4 2009FA          278            jb      MB1, UP1_MB1 
00F7 C22F            279            clr     LEDU
00F9 C22E            280            clr     LEDD
00FB 12016F          281            lcall   WRITEPORTS
00FE 020101          282            jmp     FLOOR2
                     283    
0101                 284    FLOOR2:
0101 C220            285            clr     UP                        ; inak pod dole
0103 C222            286            clr     FAST                        ; a rychlo
DEBUG                                                                                                         PAGE 6

0105 C224            287            clr     FLED1     
0107 D225            288            setb    FLED2     
0109 C226            289            clr     FLED3     
010B C227            290            clr     FLED4     
010D 12016F          291            lcall   WRITEPORTS                  ; zapis informaciu
0110 020120          292            jmp     ENDPROG
0113                 293    UP2:
                     294    
0113                 295    UP2_MB1:
                     296    
0113                 297    UP2_MB2:
                     298    
0113                 299    DOWN2_MB1:
                     300    
0113                 301    DOWN2_MB2:
                     302         
                     303         
0113                 304    HIGHER:
0113 120132          305            lcall   READPORTS
0116 2009FA          306            jb      MB1, HIGHER
0119 C220            307            clr     UP                        ; inak pod dole
011B C222            308            clr     FAST                      ; a rychlo
011D 12016F          309            lcall   WRITEPORTS                ; zapis informaciu              
0120                 310    ENDPROG:
                     311            ;----------------------------breakpoint
0120 C2B3            312    BP:     clr     P3.3
0122 D2AA            313            setb    EX1
0124 00              314            nop
                     315            ;----------------------------
0125 D218            316            setb    KS
0127 12016F          317            call    WRITEPORTS                ; zapis novu informaciu
012A 22              318            ret
                     319    
                     320    
                     321    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                     322    ; WAITFORTIMER
                     323    ; Pocka na stlacenie tlacidla na 1. poschodi  - signal PO1 (v buducnosti to 
                     324    ; bude timer)
                     325    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
012B                 326    WAITFORTIMER:
012B 120132          327            lcall   READPORTS                   ; 
012E 3011FA          328            jnb     PI2D, WAITFORTIMER           ; ak nebolo stlacene tlacidlo PO1, cakaj 
0131 22              329            ret
                     330    
                     331    
                     332    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                     333    ; READPORTS
                     334    ; precita nove hodnoty na portoch
                     335    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0132                 336    READPORTS:
0132 75A080          337            mov     p2, #i8255INA       ; citaj data z portu A
0135 75803F          338            mov     p0, #(bmSTOP or bmPKI1 or bmPKI2 or bmPKI3 or bmPKI4 or bmDOORCLSD)
0138 C2B7            339            clr     RDNOT
013A 00              340            nop
013B 00              341            nop
013C 00              342            nop
013D 00              343            nop
013E 858028          344            mov     INPORTA, p0         ; uloz informaciu z datovej zbernice 
DEBUG                                                                                                         PAGE 7

0141 D2B7            345            setb    RDNOT
                     346            
0143 75A081          347            mov     p2, #i8255INB       ; citaj data z portu B
0146 7580FE          348            mov     p0, #(bmMB1I or bmMB2I or bmSKRHI or bmSKRHD or bmDPI or bmDPKI or bmDPZKI)
                                                                               
0149 C2B7            349            clr     RDNOT
014B 00              350            nop
014C 00              351            nop
014D 00              352            nop
014E 00              353            nop
014F 858021          354            mov     INPORTB, p0         ; uloz informaciu z datovej zbernice 
0152 D2B7            355            setb    RDNOT
                     356    
0154 75A082          357            mov     p2, #i8255INC       ; citaj data z portu C
0157 75803F          358            mov     p0, #(bmPI1 or bmPI2D or bmPI2U or bmPI3D or bmPI3U or bmPI4)
015A C2B7            359            clr     RDNOT
015C 00              360            nop
015D 00              361            nop
015E 00              362            nop
015F 00              363            nop
0160 858022          364            mov     INPORTC, p0         ; uloz informaciu z datovej zbernice 
0163 D2B7            365            setb    RDNOT
                     366            
                     367            
0165 E528            368            mov     A, INPORTA
0167 541E            369            anl     A, #00011110b
0169 4223            370            orl     OUTPORTA, A
016B 12016F          371            call    WRITEPORTS              ; aktualizuj signalizaciu na ovladacom paneli
                     372            
016E 22              373            ret
                     374            
                     375    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                     376    ; WRITEPORTS
                     377    ; spravi zalohu vystupnych registrov a posle data von
                     378    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
016F                 379    WRITEPORTS:
016F 852380          380            mov     p0, OUTPORTA        ; teraz postupne posli data najprv na port A,
0172 75A0C0          381            mov     p2, #i8255OUTA
0175 C2B6            382            clr     WRNOT
0177 00              383            nop
0178 00              384            nop
0179 00              385            nop
017A 00              386            nop
017B D2B6            387            setb    WRNOT
                     388            
017D 852480          389            mov     p0, OUTPORTB        ; potom port B
0180 75A0C1          390            mov     p2, #i8255OUTB
0183 C2B6            391            clr     WRNOT
0185 00              392            nop
0186 00              393            nop
0187 00              394            nop
0188 00              395            nop
0189 D2B6            396            setb    WRNOT
                     397    
018B 852580          398            mov     p0, OUTPORTC        ; a nakoniec port C
018E 75A0C2          399            mov     p2, #i8255OUTC
0191 C2B6            400            clr     WRNOT
0193 00              401            nop
DEBUG                                                                                                         PAGE 8

0194 00              402            nop
0195 00              403            nop
0196 00              404            nop
0197 D2B6            405            setb    WRNOT
                     406            
0199 22              407            ret
                     408    
                     409    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                     410    
019A 0D0A5269        411    STR_INIT:   db  0dh, 0ah, 'Riadiaci system je inicializovany.', 0dh, 0ah, 00h
019E 61646961   
01A2 63692073   
01A6 79737465   
01AA 6D206A65   
01AE 20696E69   
01B2 6369616C   
01B6 697A6F76   
01BA 616E792E   
01BE 0D0A00     
01C1 52696164        412    STR_STOP:   db  'Riadiaci system je reinicializovany po stlaceni tlacidla STOP.', 0dh, 0ah, 
                                                                               00h
01C5 69616369   
01C9 20737973   
01CD 74656D20   
01D1 6A652072   
01D5 65696E69   
01D9 6369616C   
01DD 697A6F76   
01E1 616E7920   
01E5 706F2073   
01E9 746C6163   
01ED 656E6920   
01F1 746C6163   
01F5 69646C61   
01F9 2053544F   
01FD 502E0D0A   
0201 00         
0202 4B616C69        413    STR_CALIB:  db  'Kalibracia vytahu je ukoncena.', 0dh, 0ah, 00h
0206 62726163   
020A 69612076   
020E 79746168   
0212 75206A65   
0216 20756B6F   
021A 6E63656E   
021E 612E0D0A   
0222 00         
                     414    
----                 415            DSEG
0040                 416            org     40h
0040                 417    STACK:  DS      10h
                     418    
                     419    end

VERSION 1.2h ASSEMBLY COMPLETE, 0 ERRORS FOUND
DEBUG                                                                                                         PAGE 9

BMDOORCLSD . . . . . . . . . . .    NUMB  0020H  
BMDOWN . . . . . . . . . . . . .    NUMB  0002H  NOT USED  
BMDPI. . . . . . . . . . . . . .    NUMB  0020H  
BMDPKI . . . . . . . . . . . . .    NUMB  0080H  
BMDPZKI. . . . . . . . . . . . .    NUMB  0040H  
BMFAST . . . . . . . . . . . . .    NUMB  0004H  NOT USED  
BMFLED1. . . . . . . . . . . . .    NUMB  0010H  
BMFLED2. . . . . . . . . . . . .    NUMB  0020H  
BMFLED3. . . . . . . . . . . . .    NUMB  0040H  
BMFLED4. . . . . . . . . . . . .    NUMB  0080H  
BMKS . . . . . . . . . . . . . .    NUMB  0001H  NOT USED  
BMLEDD . . . . . . . . . . . . .    NUMB  0040H  
BMLEDU . . . . . . . . . . . . .    NUMB  0080H  
BMMB1I . . . . . . . . . . . . .    NUMB  0002H  
BMMB2I . . . . . . . . . . . . .    NUMB  0004H  
BMPI1. . . . . . . . . . . . . .    NUMB  0001H  
BMPI2D . . . . . . . . . . . . .    NUMB  0002H  
BMPI2U . . . . . . . . . . . . .    NUMB  0004H  
BMPI3D . . . . . . . . . . . . .    NUMB  0008H  
BMPI3U . . . . . . . . . . . . .    NUMB  0010H  
BMPI4. . . . . . . . . . . . . .    NUMB  0020H  
BMPKI1 . . . . . . . . . . . . .    NUMB  0002H  
BMPKI2 . . . . . . . . . . . . .    NUMB  0004H  
BMPKI3 . . . . . . . . . . . . .    NUMB  0008H  
BMPKI4 . . . . . . . . . . . . .    NUMB  0010H  
BMPKO1 . . . . . . . . . . . . .    NUMB  0002H  
BMPKO2 . . . . . . . . . . . . .    NUMB  0004H  
BMPKO3 . . . . . . . . . . . . .    NUMB  0008H  
BMPKO4 . . . . . . . . . . . . .    NUMB  0010H  
BMPO1. . . . . . . . . . . . . .    NUMB  0001H  
BMPO2D . . . . . . . . . . . . .    NUMB  0002H  
BMPO2U . . . . . . . . . . . . .    NUMB  0004H  
BMPO3D . . . . . . . . . . . . .    NUMB  0008H  
BMPO3U . . . . . . . . . . . . .    NUMB  0010H  
BMPO4. . . . . . . . . . . . . .    NUMB  0020H  
BMSKRHD. . . . . . . . . . . . .    NUMB  0010H  
BMSKRHI. . . . . . . . . . . . .    NUMB  0008H  
BMSLOW . . . . . . . . . . . . .    NUMB  0008H  NOT USED  
BMSTOP . . . . . . . . . . . . .    NUMB  0001H  
BMUP . . . . . . . . . . . . . .    NUMB  0001H  NOT USED  
BP . . . . . . . . . . . . . . .  C ADDR  0120H  NOT USED  
CALIB. . . . . . . . . . . . . .  C ADDR  0093H  NOT USED  
CALIBEND . . . . . . . . . . . .  C ADDR  00A8H  
CALIBLOOP. . . . . . . . . . . .  C ADDR  00A0H  
CANGO. . . . . . . . . . . . . .  B ADDR  0038H  NOT USED  
CTRLREG. . . . . . . . . . . . .  D ADDR  0027H  
DOORCLSD . . . . . . . . . . . .  B ADDR  0045H  NOT USED  
DOORCLSDOLD. . . . . . . . . . .  B ADDR  0039H  NOT USED  
DOWN . . . . . . . . . . . . . .  B ADDR  0021H  
DOWN2_MB1. . . . . . . . . . . .  C ADDR  0113H  NOT USED  
DOWN2_MB2. . . . . . . . . . . .  C ADDR  0113H  NOT USED  
DOWNOLD. . . . . . . . . . . . .  B ADDR  003BH  NOT USED  
DP . . . . . . . . . . . . . . .  B ADDR  000DH  NOT USED  
DPK. . . . . . . . . . . . . . .  B ADDR  000FH  NOT USED  
DPZK . . . . . . . . . . . . . .  B ADDR  000EH  NOT USED  
ENDPROG. . . . . . . . . . . . .  C ADDR  0120H  
EX1. . . . . . . . . . . . . . .  B ADDR  00AAH  PREDEFINED  
F1S. . . . . . . . . . . . . . .  C ADDR  00B7H  
DEBUG                                                                                                         PAGE 10

FAST . . . . . . . . . . . . . .  B ADDR  0022H  
FASTOLD. . . . . . . . . . . . .  B ADDR  003CH  NOT USED  
FLED1. . . . . . . . . . . . . .  B ADDR  0024H  
FLED2. . . . . . . . . . . . . .  B ADDR  0025H  
FLED3. . . . . . . . . . . . . .  B ADDR  0026H  
FLED4. . . . . . . . . . . . . .  B ADDR  0027H  
FLOOR1 . . . . . . . . . . . . .  C ADDR  00B4H  NOT USED  
FLOOR2 . . . . . . . . . . . . .  C ADDR  0101H  
FLOORREQ . . . . . . . . . . . .  D ADDR  0036H  
HIGHER . . . . . . . . . . . . .  C ADDR  0113H  
HIGHEST. . . . . . . . . . . . .  D ADDR  0032H  NOT USED  
I8255INA . . . . . . . . . . . .    NUMB  0080H  
I8255INB . . . . . . . . . . . .    NUMB  0081H  
I8255INC . . . . . . . . . . . .    NUMB  0082H  
I8255INCW. . . . . . . . . . . .    NUMB  0083H  
I8255OUTA. . . . . . . . . . . .    NUMB  00C0H  
I8255OUTB. . . . . . . . . . . .    NUMB  00C1H  
I8255OUTC. . . . . . . . . . . .    NUMB  00C2H  
I8255OUTCW . . . . . . . . . . .    NUMB  00C3H  
INPORTA. . . . . . . . . . . . .  D ADDR  0028H  
INPORTB. . . . . . . . . . . . .  D ADDR  0021H  
INPORTBOLD . . . . . . . . . . .  D ADDR  0026H  
INPORTC. . . . . . . . . . . . .  D ADDR  0022H  
KS . . . . . . . . . . . . . . .  B ADDR  0018H  
LEDD . . . . . . . . . . . . . .  B ADDR  002EH  
LEDU . . . . . . . . . . . . . .  B ADDR  002FH  
LOWEST . . . . . . . . . . . . .  D ADDR  0031H  NOT USED  
MAIN . . . . . . . . . . . . . .  C ADDR  00B4H  NOT USED  
MB1. . . . . . . . . . . . . . .  B ADDR  0009H  
MB1OLD . . . . . . . . . . . . .  B ADDR  0031H  NOT USED  
MB2. . . . . . . . . . . . . . .  B ADDR  000AH  
MB2OLD . . . . . . . . . . . . .  B ADDR  0032H  NOT USED  
OUTPORTA . . . . . . . . . . . .  D ADDR  0023H  
OUTPORTB . . . . . . . . . . . .  D ADDR  0024H  
OUTPORTBOLD. . . . . . . . . . .  D ADDR  0034H  NOT USED  
OUTPORTC . . . . . . . . . . . .  D ADDR  0025H  
P0 . . . . . . . . . . . . . . .  D ADDR  0080H  PREDEFINED  
P2 . . . . . . . . . . . . . . .  D ADDR  00A0H  PREDEFINED  
P3 . . . . . . . . . . . . . . .  D ADDR  00B0H  PREDEFINED  
PI1. . . . . . . . . . . . . . .  B ADDR  0010H  NOT USED  
PI2D . . . . . . . . . . . . . .  B ADDR  0011H  
PI2U . . . . . . . . . . . . . .  B ADDR  0012H  NOT USED  
PI3D . . . . . . . . . . . . . .  B ADDR  0013H  NOT USED  
PI3U . . . . . . . . . . . . . .  B ADDR  0014H  NOT USED  
PI4. . . . . . . . . . . . . . .  B ADDR  0015H  NOT USED  
PKI1 . . . . . . . . . . . . . .  B ADDR  0041H  NOT USED  
PKI2 . . . . . . . . . . . . . .  B ADDR  0042H  NOT USED  
PKI3 . . . . . . . . . . . . . .  B ADDR  0043H  NOT USED  
PKI4 . . . . . . . . . . . . . .  B ADDR  0044H  NOT USED  
PKO1 . . . . . . . . . . . . . .  B ADDR  0019H  
PKO2 . . . . . . . . . . . . . .  B ADDR  001AH  NOT USED  
PKO3 . . . . . . . . . . . . . .  B ADDR  001BH  NOT USED  
PKO4 . . . . . . . . . . . . . .  B ADDR  001CH  NOT USED  
PO1. . . . . . . . . . . . . . .  B ADDR  0028H  NOT USED  
PO2D . . . . . . . . . . . . . .  B ADDR  0029H  NOT USED  
PO2U . . . . . . . . . . . . . .  B ADDR  002AH  NOT USED  
PO3D . . . . . . . . . . . . . .  B ADDR  002BH  NOT USED  
PO3U . . . . . . . . . . . . . .  B ADDR  002CH  NOT USED  
DEBUG                                                                                                         PAGE 11

PO4. . . . . . . . . . . . . . .  B ADDR  002DH  NOT USED  
POSITION . . . . . . . . . . . .  D ADDR  0030H  NOT USED  
RDNOT. . . . . . . . . . . . . .  B ADDR  00B7H  
READPORTS. . . . . . . . . . . .  C ADDR  0132H  
RESET. . . . . . . . . . . . . .  C ADDR  0033H  NOT USED  
SKRD . . . . . . . . . . . . . .  B ADDR  000CH  
SKRDOLD. . . . . . . . . . . . .  B ADDR  0034H  NOT USED  
SKRH . . . . . . . . . . . . . .  B ADDR  000BH  NOT USED  
SKRHOLD. . . . . . . . . . . . .  B ADDR  0033H  NOT USED  
SLOW . . . . . . . . . . . . . .  B ADDR  0023H  NOT USED  
SLOWOLD. . . . . . . . . . . . .  B ADDR  003DH  NOT USED  
SP . . . . . . . . . . . . . . .  D ADDR  0081H  PREDEFINED  
STACK. . . . . . . . . . . . . .  D ADDR  0040H  
START. . . . . . . . . . . . . .  C ADDR  0033H  
STOPNOT. . . . . . . . . . . . .  B ADDR  0040H  NOT USED  
STOPTIMER. . . . . . . . . . . .  D ADDR  0033H  
STR_CALIB. . . . . . . . . . . .  C ADDR  0202H  NOT USED  
STR_INIT . . . . . . . . . . . .  C ADDR  019AH  NOT USED  
STR_STOP . . . . . . . . . . . .  C ADDR  01C1H  NOT USED  
TIMERCONST . . . . . . . . . . .    NUMB  00FAH  NOT USED  
UP . . . . . . . . . . . . . . .  B ADDR  0020H  
UP1. . . . . . . . . . . . . . .  C ADDR  00CFH  
UP1_MB1. . . . . . . . . . . . .  C ADDR  00F1H  
UP1_MB2. . . . . . . . . . . . .  C ADDR  00E3H  
UP2. . . . . . . . . . . . . . .  C ADDR  0113H  NOT USED  
UP2_MB1. . . . . . . . . . . . .  C ADDR  0113H  NOT USED  
UP2_MB2. . . . . . . . . . . . .  C ADDR  0113H  NOT USED  
UPOLD. . . . . . . . . . . . . .  B ADDR  003AH  NOT USED  
WAITFORTIMER . . . . . . . . . .  C ADDR  012BH  
WRITEPORTS . . . . . . . . . . .  C ADDR  016FH  
WRNOT. . . . . . . . . . . . . .  B ADDR  00B6H  
